function gmwMapInit(o){if(jQuery("#"+o.mapElement).length){var e=o.mapId,n=!1;for(o.mapOptions.zoom="auto"==o.zoomLevel?13:parseInt(o.zoomLevel),o.mapOptions.center=new google.maps.LatLng(o.userPosition.lat,o.userPosition.lng),o.mapOptions.mapTypeId=google.maps.MapTypeId[o.mapOptions.mapTypeId],o.bounds=new google.maps.LatLngBounds,"undefined"!=typeof gmwMapOptions[e]&&jQuery.extend(o.mapOptions,gmwMapOptions[e]),o.map=new google.maps.Map(document.getElementById(o.mapElement),o.mapOptions),"function"==typeof MarkerClusterer&&"markers_clusterer"==o.markersDisplay&&(psMc=new MarkerClusterer(o.map,o.markers),n=!0),i=0;i<o.locations.length;i++)if(void 0!=o.locations[i].lat&&(void 0!=o.locations[i]["long"]||void 0!=o.locations[i].lng)){void 0==o.locations[i]["long"]&&(o.locations[i]["long"]=o.locations[i].lng);var t=new google.maps.LatLng(o.locations[i].lat,o.locations[i]["long"]);if(o.bounds.contains(t))var a=360/o.locations.length,s=t.lat()+-3e-5*Math.cos(+a*i/180*Math.PI),r=t.lng()+-3e-5*Math.sin(+a*i/180*Math.PI),l=new google.maps.LatLng(s,r),t=(new google.maps.Polyline({path:[t,l],strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2,map:o.map}),l);o.bounds.extend(t),o.markers[i]=new google.maps.Marker({position:t,icon:o.locations[i].mapIcon,map:o.map,id:i}),1==n&&"markers_clusterer"==o.markersDisplay?psMc.addMarker(o.markers[i]):o.markers[i].setMap(o.map),0!=o.locations[i].info_window_content&&void 0!=o.locations[i].info_window_content&&google.maps.event.addListener(o.markers[i],"click",function(){null!=o.infoWindow&&(o.infoWindow.close(),o.infoWindow=null),o.infoWindow=new google.maps.InfoWindow({content:o.locations[this.id].info_window_content}),o.infoWindow.open(o.map,this)})}if(0!=o.userPosition.lat&&0!=o.userPosition.lng&&0!=o.userPosition.mapIcon&&(o.userPosition.location=new google.maps.LatLng(o.userPosition.lat,o.userPosition.lng),o.bounds.extend(o.userPosition.location),o.userPosition.marker=new google.maps.Marker({position:o.userPosition.location,map:o.map,icon:o.userPosition.mapIcon}),0!=o.userPosition.iwContent&&null!=o.userPosition.iwContent)){var p=new google.maps.InfoWindow({content:o.userPosition.iwContent});1==o.userPosition.iwOpen&&p.open(o.map,o.userPosition.marker),google.maps.event.addListener(o.userPosition.marker,"click",function(){p.open(o.map,o.userPosition.marker)})}google.maps.event.addListenerOnce(o.map,"idle",function(){0!=o.zoomPosition&&"auto"!=o.zoomLevel?(o.zoomPosition.position=new google.maps.LatLng(o.zoomPosition.lat,o.zoomPosition.lng),o.map.setZoom(parseInt(o.zoomLevel)),o.map.panTo(o.zoomPosition.position)):1==o.locations.length&&0==o.userPosition.location?("auto"==o.zoomLevel?o.map.setZoom(13):o.map.setZoom(parseInt(o.zoomLevel)),o.map.panTo(o.markers[0].getPosition())):"auto"!=o.zoomLevel&&0!=o.userPosition.location?(o.map.setZoom(parseInt(o.zoomLevel)),o.map.panTo(o.userPosition.location)):("auto"==o.zoomLevel||0==o.userPosition.location)&&o.map.fitBounds(o.bounds),0!=o.mapLoaderElement&&jQuery(o.mapLoaderElement).fadeOut(1e3),0!=o.resizeMapElement&&(o.resizeMapControl=document.getElementById(o.resizeMapElement),o.resizeMapControl.style.position="absolute",o.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(o.resizeMapControl),o.resizeMapControl.style.display="block",jQuery("#"+o.resizeMapElement).click(function(){var e=o.map.getCenter();jQuery(this).closest(".gmw-map-wrapper").toggleClass("gmw-expanded-map"),jQuery(this).toggleClass("fa-expand").toggleClass("fa-compress"),setTimeout(function(){google.maps.event.trigger(o.map,"resize"),o.map.setCenter(e)},100)}))})}}jQuery(document).ready(function(o){return"undefined"==typeof gmwMapObjects?!1:void o.each(gmwMapObjects,function(o,e){1==e.triggerMap&&(0!=e.hiddenElement&&jQuery(e.hiddenElement).is(":hidden")?jQuery(e.hiddenElement).slideToggle("fast",function(){gmwMapInit(e)}):gmwMapInit(e))})});